CALL ..\..\external\emsdk\emsdk_env.bat

emcc -s ALLOW_MEMORY_GROWTH=1 -msimd128 -msse2 -D USE_SSE -D USE_SSE2 -D FLOATING_POINT=1 -D OUTSIDE_SPEEX -s EXPORTED_FUNCTIONS="['_malloc', '_free', '_speex_resampler_init', '_speex_resampler_init_frac', '_speex_resampler_destroy', '_speex_resampler_process_float', '_speex_resampler_process_int', '_speex_resampler_process_interleaved_float', '_speex_resampler_process_interleaved_int', '_speex_resampler_set_rate', '_speex_resampler_get_rate', '_speex_resampler_set_rate_frac', '_speex_resampler_get_ratio', '_speex_resampler_set_quality', '_speex_resampler_get_quality', '_speex_resampler_set_input_stride', '_speex_resampler_get_input_stride', '_speex_resampler_set_output_stride', '_speex_resampler_get_output_stride', '_speex_resampler_get_input_latency', '_speex_resampler_get_output_latency', '_speex_resampler_skip_zeros', '_speex_resampler_reset_mem', '_speex_resampler_strerror']" -s EXPORTED_RUNTIME_METHODS="[]" -s MODULARIZE=1 -s EXPORT_ES6=1 -s EXPORT_NAME="SpeexResampler" -O3 -o wasm/speex-resampler-simd.js -I include src/resample.c
